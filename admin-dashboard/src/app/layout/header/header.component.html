<header class="header">
    <!-- Left -->
    <div class="header__left">
      <button class="icon-btn" type="button" aria-label="Menu" (click)="onToggleSidebar()">
        <i class="bi bi-list"></i>
      </button>
  
      <div class="search">
        <i class="bi bi-search search__icon"></i>
        <input
          class="search__input"
          type="text"
          [placeholder]="'common.search' | translate"
          (input)="onSearch($any($event.target).value)"
        />
      </div>
    </div>
  
    <!-- Right -->
    <div class="header__right">
      <!-- Notification -->
      <div class="notification-wrapper">
        <button class="icon-btn notif" type="button" aria-label="Notifications" (click)="toggleNotificationMenu()">
          <i class="bi bi-bell"></i>
          <span class="notif__dot" aria-hidden="true"></span>
        </button>

        <!-- Notification Dropdown -->
        <div class="notification-menu" *ngIf="notificationMenuOpen" (click)="$event.stopPropagation()">
          <div class="notification-menu__header">
            <h3 class="notification-menu__title">{{ 'common.notification' | translate }}</h3>
          </div>
          
          <div class="notification-menu__body">
            <div class="notification-item" *ngFor="let notification of notifications">
              <div class="notification-item__icon" [style.background-color]="notification.iconBg">
                <i class="bi" [ngClass]="notification.icon"></i>
              </div>
              <div class="notification-item__content">
                <div class="notification-item__title">{{ notification.titleKey | translate }}</div>
                <div class="notification-item__description">{{ notification.descriptionKey | translate }}</div>
              </div>
            </div>
          </div>

          <div class="notification-menu__footer">
            <button class="notification-menu__see-all" type="button">{{ 'common.seeAll' | translate }}</button>
          </div>
        </div>
      </div>

      <!-- Theme Toggle -->
      <button class="icon-btn" type="button" aria-label="Theme" (click)="onToggleTheme()">
        <i
          class="bi"
          [ngClass]="themeService.theme() === 'dark' ? 'bi-sun' : 'bi-moon'"
        ></i>
      </button>
  
      <!-- Language -->
      <div class="language-wrapper">
        <button class="lang" type="button" aria-label="Language" (click)="toggleLanguageMenu()">
          <!-- Dil ikonu -->
          <i class="bi bi-globe lang__flag-icon"></i>

          <span class="lang__text">{{ languageService.getLanguageLabel() }}</span>
          <i class="bi bi-chevron-down lang__chev" [class.rotated]="languageMenuOpen"></i>
        </button>

        <!-- Language Dropdown -->
        <div class="language-menu" *ngIf="languageMenuOpen" (click)="$event.stopPropagation()">
          <button 
            class="language-menu__item" 
            type="button" 
            [class.language-menu__item--active]="languageService.currentLanguage() === 'en'"
            (click)="selectLanguage('en')"
          >
            <span>English</span>
            <i class="bi bi-check" *ngIf="languageService.currentLanguage() === 'en'"></i>
          </button>
          <button 
            class="language-menu__item" 
            type="button"
            [class.language-menu__item--active]="languageService.currentLanguage() === 'tr'"
            (click)="selectLanguage('tr')"
          >
            <span>Türkçe</span>
            <i class="bi bi-check" *ngIf="languageService.currentLanguage() === 'tr'"></i>
          </button>
        </div>
      </div>
  
      <!-- Profile -->
      <div class="profile-wrapper">
        <button class="profile" type="button" (click)="toggleProfileMenu()" aria-label="Profile menu">
          <div class="profile__avatar-placeholder">
            <i class="bi bi-person-fill"></i>
          </div>
          <div class="profile__meta">
            <div class="profile__name">Moni Roy</div>
            <div class="profile__role">Admin</div>
          </div>
          <i class="bi bi-chevron-down profile__chev" [class.rotated]="profileMenuOpen"></i>
        </button>

        <!-- Dropdown Menu -->
        <div class="profile-menu" *ngIf="profileMenuOpen" (click)="$event.stopPropagation()">
          <button class="profile-menu__item" type="button" (click)="onLogout()">
            <i class="bi bi-box-arrow-right"></i>
            <span>{{ 'common.logout' | translate }}</span>
          </button>
        </div>
      </div>
  
    </div>
  </header>
  