<div class="dashboard">
    
    <ng-container *ngIf="stats$ | async as stats; else loading">
      <app-stat-cards
        [title]="'Dashboard'"
        [cards]="stats"
        [loading]="false"
      ></app-stat-cards>
  
      <section class="panel">
        <div class="panel__header">
          <h3 class="panel__title">Sales Details</h3>

          <button class="panel__filter" type="button">
            October
            <i class="bi bi-chevron-down"></i>
          </button>
        </div>

        <div class="panel__body panel__body--sales">
          <div class="sales-table-wrap" *ngIf="salesDetails$ | async as salesDetails">
            <table class="sales-table">
              <thead>
                <tr>
                  <th>Order ID</th>
                  <th>Customer</th>
                  <th>Product</th>
                  <th>Qty</th>
                  <th>Unit Price</th>
                  <th>Total</th>
                  <th>Date</th>
                  <th class="th-status">Status</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let sale of salesDetails">
                  <td class="muted">#{{ sale.orderId }}</td>
                  <td class="name">{{ sale.customerName }}</td>
                  <td class="muted">{{ sale.productName }}</td>
                  <td class="muted">{{ sale.quantity }}</td>
                  <td class="muted">{{ formatMoney(sale.unitPrice) }}</td>
                  <td class="strong">{{ formatMoney(sale.total) }}</td>
                  <td class="muted">{{ sale.date }}</td>
                  <td class="td-status">
                    <span class="badge" [attr.data-status]="sale.status">{{ sale.status }}</span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>
  
    </ng-container>
  
    <ng-template #loading>
      <app-stat-cards
        [title]="'dashboard'"
        [cards]="[]"
        [loading]="true"
      ></app-stat-cards>
    </ng-template>
  </div>
  